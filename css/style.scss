@import url('https://fonts.googleapis.com/css2?family=Rajdhani:wght@300;400;500;600;700&display=swap');
@import './variables';
@import './mixins';
@import './general-styles';


// Header

header {

    position: absolute;
    width: 100%;
    z-index: 100;

    nav {
        position: fixed;
        height: 8vh;
        width: 100%;
        @include dispFlex(space-between,flex-start,row);
        transition: background-color .2s ease-in;
        background-color: var(--backgroundClr);

        @media screen and (max-width: 800px) {
            height: 10vh;
            position: relative;
        }

        ul {
            height: 100%;
        }

        ul li {
            position: relative;
            overflow: hidden;
            font-size: 1.2em;
            height: 100%;
            flex-shrink: 0;
            z-index: 1;

            &:hover::before {
                transform: scaleY(1);
            }

            &:hover::after {
                transform: scaleX(1);
            }

            @media screen and (max-width: 800px) {
                height: auto;
                padding: 1em .5em;
            }
        }

        ul li::before {
            position: absolute;
            z-index: -1;
            content: "";
            width: 100%;
            height: 100%;
            top: 0;
            background-color: var(--brightOrange);
            @include transformScale(1,0,ease-in,bottom);
            
        }

        ul li::after {
            position: absolute;
            content: "";
            bottom: 0;
            width: 100%;
            height: 3px;
            background-color: var(--white);
            @include transformScale(0,1,ease-out,center)
        }
    
        ul a {
            @include dispFlex(center,center,row);
            text-transform: uppercase;
            text-align: left;
            padding: .5em 1.2em;
            color: var(--white);
            letter-spacing: .2px;
            font-weight: 600;
            height: 100%;

            @media screen and (max-width: 800px) {
                color: var(--white2)
            }
        }
    }

    .leftNav {

        @include dispFlex(space-between,center,row);
        padding: 0 1em;
        flex-basis: 95%;
        height: 100%;

        #logoContainer {
            position: relative;
            width: 2.5em;
            height: 100%;

            img {
                position: absolute;
                width: 100%;
                height: 100%;
            }
        }

        .hamburguerMenu {
            display: none;
            z-index: 200;
            position: fixed;
            padding: .5em .8em;
            bottom: 1em;
            right: 1em;
            width: 4em;
            height: 4em;
            border-radius: 50%;
            background-color: var(--brightOrange);

            @media screen and (max-width: 800px) {
                display: block;
            }

            span {
                display: inline-block;
                width: 100%;
                height: .3em;
                background-color: var(--backgroundClr);
            }
        }

        ul {
            @include dispFlex(space-around,center,row);
            flex-basis: 50%;

            @media screen and (max-width: 800px) {
                display: block;
                transform: scale(0);
                flex-direction: column;
                justify-content: center;
                position: fixed;
                bottom: 15%;
                right: 1.2em;
                border-radius: 10px;
                height: auto;
                background-color: var(--brightOrange);
                transition: transform .3s ease-out;
                transform-origin: bottom right;

                &.active {
                    transform: scale(1);
                    
                    
                }

            }
        }
    }

    .rightNav {
        @include dispFlex(space-around,center,row );
        padding: .5em;
        flex-basis: 5%;
        height: 100%;

        ul {
            @include dispFlex(flex-end,center,row);
            flex-basis: 100%;
        }

        ul li:first-child {
            padding-right: 1.5em;
        }

        ul li:last-child {
            border-left: 2px solid white;
            padding-left: 1.5em;
        }

    }
}

// Main

main {
    transition: background-color .2s ease-in;
    background-color: var(--backgroundClr);
    background-blend-mode: multiply;
    background-size: cover;
    background-attachment: fixed;

    @media screen and (max-width: 800px) {
        padding-top: 10vh;
    }
}

.sectionContent {

    @include dispFlex(space-around,center,row);
    padding: 1em;
    height: 100vh;

    @media screen and (max-width: 800px) {
        position: relative;
        flex-direction: column;
        height: auto;
    }

    &__left {

        flex-basis: 50%;

        @media screen and (max-width: 800px) {
            width: 100%;
        }

        h2 {
            font-size: 4em;
            font-weight: 600;
            letter-spacing: .5px;
            line-height: 1.1;
            color: var(--white);

            @media screen and (max-width: 800px) {
                font-size: 3em;
            }

            b {
                color: var(--brightOrange);
            }
        }
        
        p {
            margin-top: .8em;
            color: var(--whiteOpacity);
            font-weight: 400;
            font-size: 2em;
            max-width: 85%;

            @media screen and (max-width: 800px) {
                font-size: 1.6em;
                max-width: 90%;
                text-align: left;
            }
        }
    }

    &__right {

        flex-basis: 40%;

        @media screen and (max-width: 800px) {
            width: 100%;
        }
    }

    &__cta-buttons {

        margin-top: 1.2em;
        display: flex;

    }

    &__whyus {
        position: relative;
        z-index: 50;
        @include dispFlex(center,flex-start,column);
        border: 2px solid var(--brightOrange);
        height: 100%;
        overflow: hidden;

        @media screen and (max-width: 800px) {
            margin-top: 2em;
        }

        div {
            width: 100%;
            padding: 1em;
            @include dispFlex(space-between,center,row);
            border-bottom: 20px solid var(--brightOrange);

            h3 {
                color: var(--white);
                margin-left: .8em;
                font-size: 1.7em;
                font-weight: 600;
                text-transform: uppercase;
                color: var(--brightOrange)
            }
        }

        ol {
            @include dispFlex(center,flex-start,column);
            padding: 1em 2em;
            list-style: decimal;
            color: var(--white);
            font-size: 1.6em;
            font-weight: 500;

            li {
                line-height: 1.2;
            }

            li + li {
                margin-top: .8em;
            }
        }

        img {
            position: absolute;
            right: -2em;
            bottom: -.5em;
            height: 40%;
            z-index: -1;

            @media screen and (max-width: 800px) {
                height: 20%
            }
        }
    }

    &__top {

        margin-bottom: 2em;

        h4 {
            position: relative;
            left: -4em;
            font-size: 1.2em;
            text-transform: uppercase;
            color: var(--brightOrange);
            font-weight: 600;

            @media screen and (max-width: 800px) {
                left: 0;
            }
        }
        
        h3 {
            position: relative;
            margin-top: .4em;
            font-size: 3em;
            font-weight: 600;
            color: var(--white);

            &::before {
                content: "";
                position: absolute;
                left: -1.4em;
                top: 0;
                width: 1em;
                height: 100%;
                background: url(../img/ProfitIcon.svg) no-repeat;
                background-size: 100%;
            }
        }
    }

    &__steps-bar {
        
        position: relative;
        width: 80%;

        @media screen and (max-width: 800px) {
            margin: 4em 0;
            width: 90%;
        }
        
        .bar-sections {
            position: absolute;
            list-style: decimal;
            bottom: 100%;
            width: 100%;
            @include dispFlex(space-around,stretch,row);
            color: var(--white);

            @media screen and (max-width: 800px) {
                @include dispFlex(space-around,stretch,column);
                position: relative;
            }
        };

        .bar-item {
            position: relative;
            @include dispFlex(space-between,center,column);
            width: 10em;
            padding: 1.2em .5em 0;
            cursor: pointer;
            transition: color .4s linear;
            z-index: 10;

            @media screen and (max-width: 800px) {
                width: auto;
                padding: .8em 2em;
                margin-bottom: .5em;
           
            }

            h4 {
                text-transform: uppercase;
                text-align: center;
                font-size: 1.2em;
                font-weight: 500
            }

            .itemStop {
                z-index: 1;
                margin-top: .2em;
                width: .3em;
                height: 1.3em;
                background-color: var(--white);

                @media screen and (max-width: 800px) {
                    position: absolute;
                    transform: rotate(90deg);
                    top: 20%;
                    left: .4em;
                    height: 1.2em;
                }
            }

            .itemBackground {
                position: absolute;
                bottom: 0;
                z-index: -1;
                width: 100%;
                height: 100%;
                background-color: var(--brightOrange);
                transform: scale(1,0);
                transform-origin: bottom;
            }

            @keyframes animateBackground {
                0% {
                    transform: scale(1,0);
                }
                50% {
                    transform: scale(1,1)
                }
                100% {
                    transform: scale(1,.9);
                }
            }

            .itemBackground.active {
                animation: animateBackground .7s ease-in-out forwards;
            }
        };
    }

    &__bar {
        height: .4em;
        border-radius: 10px;
        width: 100%;
        background-color: var(--white);

        @media screen and (max-width: 800px) {
            height: auto;
            background-color: transparent;
        }

        .mobileSidebar {
            display: none;
            position: absolute;
            top: -2.2em;
            left: -.4em;
            border-radius: 10px;
            height: 120%;
            width: .4em;
            background-color: var(--white);

            @media screen and (max-width: 800px) {
                display: block;
            }
        }
    }

    &__selectedBarItem {
        @include dispFlex(space-around,center,row);
        width: 70%;

        @media screen and (max-width: 800px) {
            top: 0;
            @include dispFlex(space-evenly,center,column);
        }

        div {
            
            flex-basis: 30%;

            @include dispFlex(flex-start,center,row);
            margin-right: 3em;


            @media screen and (max-width: 800px) {
                display: none;
            }

            & > * + * {
                margin-left: .7em
            }

            img {
                width: 4em;
            }

            h3 {
                font-size: 2em;
                text-transform: uppercase;
                font-weight: 600;
                color: var(--white);
            }

        }

        ul {

            flex-basis: 55%;

            li {
                position: relative;
                color: var(--white);
                line-height: 1.6;
                font-size: 1.4em;
                font-weight: 500;

                &::before {
                    position: absolute;
                    content: "";
                    left: -1.8em;
                    top: .55em;
                    width: .3em;
                    height: .3em;
                    background-color: transparent;
                    border-radius: 50%;
                    border: 5px solid var(--brightOrange);
                }
            }
        }
    }

    .contact-button {
        width: 30%;
        @include dispFlex(center,center,row);
        z-index: 50;
        transition: transform .3s ease-out, filter .3s linear;
        cursor: pointer;

        .button__left {
            @include dispFlex(center,center,row);
            background-color: var(--white);
            border-radius: 50%;
            width: 6em;
            height: 6em;

            img {
                width: 66%;
            }
        }

        .button__right {
            position: relative;
            z-index: -1;
            left: -.8em;
            padding: 1.2em 1.5em;
            background-color: var(--brightOrange);
            border-radius: 0 15px 15px 0;

            h3 {
                font-size: 1.6em;
                color: var(--white2);
                font-weight: 500;
                text-transform: uppercase;
            }
        }

        &:hover {
            transform: scale(1.05);
            filter: brightness(120%);
            
        }
    }

    .teamCard {

        width: 70%;
        @include dispFlex(space-between,stretch,column);
        perspective: 1000px;
        z-index: 150;

        @media screen and (max-width: 800px) {
            position: relative;
            height: 35vh;
            z-index: inherit;
        }

        &__Flip {
            position: relative;
            transform-style: preserve-3d;
            width: 100%;
            height: 100%;
            transition: transform 1.5s ease-out;
        }

        &__Flip.active {
            transform: rotateY(180deg);
        }

        &__Side {
            position: absolute;
            overflow: hidden;
            border: 2px solid var(--brightOrange);
            border-radius: 14px;
            @include dispFlex(space-between,stretch,column);
            backface-visibility: hidden;
            width: 100%;
            height: 100%;
        }

        &--back {
            transform: rotateY(180deg);
        }

        &__top {
            
            position: relative;
            padding: 1em 1.5em;
            background-color: var(--brightOrange);

            h3 {
                font-size: 2em;
                color: var(--white2);
                text-transform: uppercase;
                font-weight: 600;

                @media screen and (max-width: 800px) {
                    text-align: center;
                }
            }

            div {
                position: absolute;
                z-index: 10;
                right: 0;
                top: 0;
                background-color: var(--white);
                height: 100%;
                width: 30%;

                @media screen and (max-width: 800px) {
                    display: none;
                }

                &::before {
                    position: absolute;
                    content: "";
                    left: -.6em;
                    top: 0;
                    width: 3em;
                    height: 100%;
                    background-color: var(--white);
                    z-index: -1;
                    transform: skew(-16deg);
                }

                img {
                    position: absolute;
                    width: 4em;
                    left: 50%;
                    top: 50%;
                    transform: translate(-50%,-50%);
                }
            }
        }

        &__picture {

            @include dispFlex(center,center,row);
            overflow: hidden;
            padding: 1em 2em;

            @media screen and (max-width: 800px) {
                display: none;
            }

            img {
                height: 100%;
              
                object-fit: cover;
            }
        }

        &__content {
            @include dispFlex(center,center,row);
            padding: 2em 1em;
            background-color: var(--darkGrayOpacity);

            @media screen and (max-width: 800px) {
                height: 100%;
            }

            p {
                margin-top: 0;
                max-width: 90%;
                font-size: 1.3em;

                @media screen and (max-width: 800px) {
                    font-size: 1em;
                    height: 100%;
                }
            }
        }
    }

    .teamTree {
        position: relative;

        &__member {
            position: absolute;
            width: 2em;
        }

        &__background {
            width: 100%;
            height: 100%;

            svg circle.active {
                filter: drop-shadow(0 0 10px var(--brightOrange));
            }

            svg image {
                width: 26.5%;
                height: 26.5%;
                clip-path: circle(40% at 50% 50%);
                cursor: pointer;
            }
        }
    }
}

//Content Sections - Specific Adjusts

#home {
    @media screen and (max-width: 800px) {
        .sectionContent__right {
            display: none;
        }
    }
}

#operar {
    @include dispFlex(space-around,center,column);
}

#proyecto {

    @media screen and (max-width: 800px) {
        flex-direction: column-reverse;
    }

    .sectionContent__left {
        height: 80%;
        @include dispFlex(space-around,stretch,row);
    }
}

// Footer


footer {
    @include dispFlex(space-between, stretch, row);
    background-color: var(--brightOrange);

    @media screen and (max-width: 800px) {
        @include dispFlex(space-between, stretch, column);
    }

    .footer__left {
        padding: 1.2em 2em;
    }

    .footer__right {
        background-color: var(--darkOrange);
        @include dispFlex(space-between, center, row);
    }

    p {
        font-size: 1.2em;
        text-transform: uppercase;
        color: var(--white2);
        font-weight: 500;
    }

    a {
        @include dispFlex(space-between, center, row);
        padding: .5em 1.5em;
        height: 100%;
        color: var(--white2);
        font-size: 1.2em;
        text-transform: uppercase;
        font-weight: 600;

        & + a {
            border-left: 2px solid var(--brightOrange);
        }
    }
}
